import{a as E,b as J,u as W,r as a,j as e,L as _}from"./index-DWozRySs.js";import{d as L}from"./ExpandMore-s-773MFA.js";import{d as K}from"./ArrowDropDown-Cr9vfq-i.js";import{A as M,a as O}from"./ApiUpdateRequirement-JDCLtrAN.js";import{f as P}from"./FetchApiDesign-0YxtH5qw.js";import{D as H,U as Q}from"./DeleteImage-CrAdMm-9.js";import{C as $,F as V}from"./CreateConversationJoin-jXrej5vW.js";import{C as X}from"./Chip-DD5gAZRJ.js";import{A as g,a as v,b as w}from"./AccordionSummary-f47a2KWv.js";import{T as c}from"./Typography-BBIY9fNW.js";import{B as D}from"./Button-Bcful5Tm.js";import"./styled-BUrYsluB.js";import"./createSvgIcon-e-FyxzSc.js";import"./createSvgIcon-C8KhxkLT.js";import"./useId-C5pU6Ksv.js";import"./useIsFocusVisible-CWAIqHst.js";import"./useControlled-DIh20Rar.js";import"./instance-DZS3_tzi.js";import"./AxiosConfigHeader-CNHt4vQr.js";import"./FetchConversation-BnqMLloD.js";import"./ButtonBase-ztTdquOL.js";import"./mergeSlotProps-BDZQvIdA.js";function Ne(){var x,p,b,h,f,j,u,N,y;const C="Design3D",I=E(),{id:i}=J(),{UserId:S}=W(),[s,A]=a.useState(),[r,R]=a.useState(),[m,k]=a.useState(null),[l,z]=a.useState({}),U=async()=>{const d=await M(i);A(d);const o=d==null?void 0:d.designId,t=await P(o);R(t)};async function F(){const o=await V(6,i);o!=null&&z(o)}a.useEffect(()=>{F(),U()},[]);const n=async d=>{const o=d.target.files[0];if(o)try{s.design3D!==""&&s.design3D!=null&&await H(s.design3D);let t=await Q(C,o);t?k(t):console.error("Upload returned undefined URL.")}catch(t){console.error("Error during file upload: ",t)}},G=(d,o)=>{let t;return(...T)=>{t&&clearTimeout(t),t=setTimeout(()=>{d(...T)},o)}};a.useCallback(G(HandleChangeData,500),[]),console.log(m);const B=()=>{if(n){const d={...s,status:"7",design3D:m};(async()=>{await O({data:d,id:i})})(),I("/staff/reject-design",{replace:!0}),window.location.reload()}};return e.jsx(e.Fragment,{children:(s==null?void 0:s.status)==-7?e.jsx("div",{className:"py-[3rem] px-[3rem] min-h-[100vh] bg-[#f7f9fc]",children:e.jsxs("div",{className:"grid grid-cols-3 gap-x-[1.5rem]",children:[e.jsxs("div",{className:"col-span-2 ",children:[e.jsxs("div",{className:"py-[2.5rem] px-[2.5rem] rounded-[30px] border-[1px] border-[#e9eaf3] border-solid bg-[white]",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-[32px] font-bold ",children:["Order #",i]}),e.jsx(X,{label:"Remake Design3D",color:"warning",variant:"outlined",sx:{fontWeight:700}})]}),e.jsx("div",{className:"h-[1.5px] bg-[#e9eaf3] my-[1.5rem]"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-[22px] mb-[1rem] font-bold leading-[1.273em]",children:r==null?void 0:r.designName}),e.jsxs("div",{className:"flex ",children:[e.jsx("img",{className:"w-[15rem] h-[15rem]",src:r==null?void 0:r.image}),e.jsx("p",{className:"ml-[1rem] text-[#6f7182]",children:r==null?void 0:r.description})]})]}),e.jsx("div",{className:"h-[1.5px] bg-[#e9eaf3] my-[1.5rem]"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-[32px] mb-[1rem] font-bold leading-[1.273em]",children:"Customer Requirement"}),e.jsx("h2",{className:"text-[20px] mb-[1rem] font-bold leading-[1.273em]",children:"General Information"}),e.jsxs("table",{className:"table-fixed w-[100%] font-medium overflow-hidden border-collapse border-[1px] border-solid border-[#000]",children:[e.jsx("thead",{className:"bg-[#eccc68] border-[1px] border-solid border-[#000]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-[1rem] py-[0.5rem] text-left border-[1px] border-solid border-[#000]",children:"Jewelry Type"}),e.jsx("th",{className:"px-[1rem] py-[0.5rem] text-left border-[1px] border-solid border-[#000]",children:"Jewelry Size"}),e.jsx("th",{className:"px-[1rem] py-[0.5rem] text-left border-[1px] border-solid border-[#000]",children:"Jewelry Material"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-[1rem] py-[1rem] border-[1px] border-solid border-[#000]",children:(x=r==null?void 0:r.typeOfJewellery)==null?void 0:x.name}),e.jsx("td",{className:"px-[1rem] py-[1rem] border-[1px] border-solid border-[#000]",children:s==null?void 0:s.size}),e.jsx("td",{className:"px-[1rem] py-[1rem] border-[1px] border-solid border-[#000]",children:(p=r==null?void 0:r.material)==null?void 0:p.name})]})})]}),e.jsx("div",{className:"my-[1rem]"}),e.jsx("h2",{className:"text-[20px] mb-[1rem] font-bold leading-[1.273em]",children:"Master Gemstone"}),e.jsxs("table",{className:"table-fixed w-[100%] font-medium overflow-hidden border-collapse border-[1px] border-solid border-[#000]",children:[e.jsx("thead",{className:"bg-[#eccc68] border-[1px] border-solid border-[#000]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-[1rem] py-[0.5rem] text-left border-[1px] border-solid border-[#000]",children:"Kind"}),e.jsx("th",{className:"px-[1rem] py-[0.5rem] text-left border-[1px] border-solid border-[#000]",children:"Size"}),e.jsx("th",{className:"px-[1rem] py-[0.5rem] text-left border-[1px] border-solid border-[#000]",children:"Weight"}),e.jsx("th",{className:"px-[1rem] py-[0.5rem] text-left border-[1px] border-solid border-[#000]",children:"Shape"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-[1rem] py-[1rem] border-[1px] border-solid border-[#000]",children:(b=r==null?void 0:r.masterGemstone)==null?void 0:b.kind}),e.jsx("td",{className:"px-[1rem] py-[1rem] border-[1px] border-solid border-[#000]",children:(h=r==null?void 0:r.masterGemstone)==null?void 0:h.size}),e.jsx("td",{className:"px-[1rem] py-[1rem] border-[1px] border-solid border-[#000]",children:(f=r==null?void 0:r.masterGemstone)==null?void 0:f.weight}),e.jsx("td",{className:"px-[1rem] py-[1rem] border-[1px] border-solid border-[#000]",children:(j=r==null?void 0:r.masterGemstone)==null?void 0:j.shape})]})})]}),e.jsx("div",{className:"my-[1rem]"}),e.jsx("h2",{className:"text-[20px] mb-[1rem] font-bold leading-[1.273em]",children:"Stones"}),e.jsxs("table",{className:"table-fixed w-[100%] font-medium overflow-hidden border-collapse border-[1px] border-solid border-[#000]",children:[e.jsx("thead",{className:"bg-[#eccc68] border-[1px] border-solid border-[#000]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-[1rem] py-[0.5rem] text-left border-[1px] border-solid border-[#000]",children:"Kind"}),e.jsx("th",{className:"px-[1rem] py-[0.5rem] text-left border-[1px] border-solid border-[#000]",children:"Size"}),e.jsx("th",{className:"px-[1rem] py-[0.5rem] text-left border-[1px] border-solid border-[#000]",children:"Quantity"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-[1rem] py-[1rem] border-[1px] border-solid border-[#000]",children:(u=r==null?void 0:r.stone)==null?void 0:u.kind}),e.jsx("td",{className:"px-[1rem] py-[1rem] border-[1px] border-solid border-[#000]",children:(N=r==null?void 0:r.stone)==null?void 0:N.size}),e.jsx("td",{className:"px-[1rem] py-[1rem] border-[1px] border-solid border-[#000]",children:(y=r==null?void 0:r.stone)==null?void 0:y.quantity})]})})]})]})]}),e.jsxs(g,{sx:{borderRadius:"2.5rem",marginTop:"3rem"},children:[e.jsxs(v,{expandIcon:e.jsx(L,{}),"aria-controls":"panel1-content",id:"panel1-header",className:"text-[24px]",children:[e.jsx(c,{variant:"h3",sx:{width:"33%",flexShrink:0,fontSize:"24px"},children:"Customer details"}),e.jsx(c,{sx:{color:"text.secondary"},children:e.jsx(_,{to:"/staff/chat",children:e.jsx(D,{variant:"contained",onClick:d=>{d.stopPropagation(),$(S,l.usersId)},children:"Chat with customer"})})})]}),e.jsx(w,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:l.image!=null?l.image:"https://img.freepik.com/free-psd/3d-illustration-person-with-sunglasses_23-2149436188.jpg?size=338&ext=jpg&ga=GA1.1.1141335507.1719273600&semt=ais_user",className:"w-[150px] rounded-full",alt:""}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-[20px]",children:["Customer name: ",l.name]}),e.jsxs("h4",{children:["Email: ",l.email]})]})]})})]}),e.jsxs("div",{className:" my-[1.5rem] py-[2.5rem] px-[2.5rem] rounded-[30px] border-[1px] border-[#e9eaf3] border-solid bg-[white]",children:[e.jsx("h2",{className:"text-[22px] mb-[1rem] font-bold leading-[1.273em]",children:"Customer Note"}),e.jsx("p",{className:"text-[#6f7182]",children:s==null?void 0:s.customerNote})]}),e.jsxs("div",{className:"py-[2.5rem] px-[2.5rem] rounded-[30px] border-[1px] border-[#e9eaf3] border-solid bg-[white]",children:[e.jsx("h2",{className:"text-[22px] mb-[1rem] font-bold leading-[1.273em]",children:"Sell Staff Note"}),e.jsx("p",{className:"text-[#6f7182]",children:s==null?void 0:s.staffNote})]})]}),e.jsxs("div",{className:"sticky top-[24px]  py-[2.5rem] px-[2rem] rounded-[30px] border-[1px] border-[#e9eaf3] border-solid bg-[white]",children:[e.jsx("div",{className:"h-[1.5px] bg-[#e9eaf3] my-[1.5rem]"}),e.jsxs(g,{children:[e.jsx(v,{expandIcon:e.jsx(K,{}),"aria-controls":"panel2-content",id:"panel2-header",children:e.jsx(c,{sx:{fontWeight:"bold"},children:"Design3D"})}),e.jsxs(w,{children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{className:"object-cover h-60 w-60",src:s==null?void 0:s.design3D,alt:"Design3D"})}),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"font-[sans-serif]",children:[e.jsx("label",{className:"text-base text-gray-500 font-semibold mb-2 block",children:"Upload New file"}),e.jsx("input",{type:"file",className:"w-full text-gray-400 font-semibold text-sm bg-white border file:cursor-pointer cursor-pointer file:border-0 file:py-3 file:px-4 file:mr-4 file:bg-gray-100 file:hover:bg-gray-200 file:text-gray-500 rounded",onChange:n})]})})]})]}),e.jsx("div",{className:"h-[1.5px] bg-[#e9eaf3] my-[1.5rem]"}),e.jsx("div",{className:"mt-[1rem]",children:e.jsx(D,{onClick:B,disabled:!m,variant:"contained",sx:{minWidth:"6rem"},children:"Submit"})})]})]})}):e.jsx("div",{})})}export{Ne as default};
