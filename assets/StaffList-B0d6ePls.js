import{r as x,j as e,c as N}from"./index-BJo3Wz4H.js";import{M as h,d as y,a as w}from"./Close-CK-eaitj.js";import{d as T}from"./MoreVert-Bb0On2pa.js";import{T as P,a as v,b as d,c as S,d as k,e as H}from"./TableRow-DvCe6aMH.js";import{I as z}from"./IconButton-v_TV2BUs.js";import{P as D,T as f,F as A,S as B,a as E}from"./TextField-DwvuUxNR.js";import{a as F}from"./instance-CBuQ1cLn.js";import{m as M}from"./motion-DGG22rhv.js";import{B as C}from"./Button-BuZ00tsX.js";import{g as R,a as U,s as _,u as I,d as O,_ as g,e as $}from"./styled-CJA13E1M.js";import"./ButtonBase-Bpx5dE4Z.js";import"./useIsFocusVisible-BCA3twK2.js";import"./createSvgIcon-ho_PURcI.js";import"./createSvgIcon-BuLzkb-N.js";import"./useId-DYJmAM81.js";import"./useControlled-Bs3ZyH6M.js";import"./mergeSlotProps-CKWnQtuB.js";import"./index-vBsn1U4B.js";import"./Grow-Bq5RsNA9.js";function L(n){return R("MuiTableHead",n)}U("MuiTableHead",["root"]);const W=["className","component"],Z=n=>{const{classes:s}=n;return $({root:["root"]},L,s)},G=_("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(n,s)=>s.root})({display:"table-header-group"}),K={variant:"head"},b="thead",V=x.forwardRef(function(s,l){const a=I({props:s,name:"MuiTableHead"}),{className:i,component:o=b}=a,u=O(a,W),m=g({},a,{component:o}),j=Z(m);return e.jsx(P.Provider,{value:K,children:e.jsx(G,g({as:o,className:N(j.root,i),ref:l,role:o===b?null:"rowgroup",ownerState:m},u))})});function q({data:n}){const[s,l]=x.useState(null),a=o=>{l(o.currentTarget)},i=()=>{l(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(v,{children:[e.jsx(d,{align:"left",children:n.name}),e.jsx(d,{align:"left",children:n.role}),e.jsx(d,{align:"left",children:n.email}),e.jsx(d,{align:"left",children:n.phone}),e.jsx(d,{children:e.jsx(z,{onClick:a,children:e.jsx(T,{})})})]}),e.jsxs(D,{open:!!s,anchorEl:s,onClose:i,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:140}},children:[e.jsx(h,{onClick:i,children:"Edit"}),e.jsx(h,{onClick:i,sx:{color:"error.main"},children:"Delete"})]})]})}const J=async({formData:n,accessToken:s})=>{try{let l=await F.post("/User/registerForAdmin",n,{headers:{Authorization:`Bearer ${s}`},params:{roleEnum:`${n.role}`}});console.log(l==null?void 0:l.data)}catch(l){console.log(">>> Error Api Create User: ",l)}};function Q({setIsOpenPopup:n}){const[s,l]=x.useState({username:"",email:"",password:"",passwordConfirm:"",role:""}),[a,i]=x.useState({username:"",email:"",password:"",passwordConfirm:"",role:""}),o=c=>{const{name:t,value:r}=c.target;u(t,r)},u=(c,t)=>{let r="";switch(c){case"name":t.trim()===""&&(r="Name field cannot be blank");break;case"username":t.trim()===""&&(r="Username field cannot be blank");break;case"email":t.match("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}$")||(r="Invalid email");break;case"password":t.trim()===""?r="Password field cannot be blank":/[A-Z]/.test(t)?/[a-z]/.test(t)?/\d/.test(t)?/[!@#$%^&*()]/.test(t)?t.length<12&&(r="Password must be at least 12 characters long!"):r="Password must contain at least one special character!":r="Password must contain at least one number!":r="Password must contain at least one lowercase letter!":r="Password must contain at least one uppercase letter!";break;case"confirm":t.trim()===""&&(r="Confirm Password field cannot be blank");break;case"role":t===""&&(r="Must choose a role");break}i({...a,[c]:r})},m=c=>{const{name:t,value:r}=c.target;l({...s,[t]:r})},j=c=>{c.preventDefault();let t=!0,r={};if(Object.keys(s).forEach(p=>{s[p]===""&&(console.log(p),r[p]="Field cannot be blank",t=!1)}),i(r),t){const p=localStorage.getItem("userInfo");console.log(p),(async()=>{await J({formData:s,accessToken:p})})(),console.log("Success")}};return e.jsx(e.Fragment,{children:e.jsx("div",{onClick:()=>n(!1),className:"fixed top-0 right-0 left-0 bottom-0 bg-[rgba(0,0,0,0.6)] flex items-center justify-center",children:e.jsxs(M.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1,transition:{duration:.5}},onClick:c=>c.stopPropagation(),className:"bg-[#fff] w-[40rem] rounded-[10px] min-h-[450px]",children:[e.jsxs("div",{className:"relative text-center border-b-[1px] border-solid border-[#333] px-[1rem] py-[1rem] ",children:[e.jsx("h1",{className:"font-bold leading-5 text-[1.5rem]",children:"Add new staff"}),e.jsx("div",{onClick:()=>n(!1),className:"absolute top-[10px] right-[10px] cursor-pointer",children:e.jsx(y,{})})]}),e.jsxs("div",{className:"px-[1rem] py-[1rem]",children:[e.jsx("h2",{className:"text-[1.1rem] font-medium pb-[3px]",children:"Email"}),e.jsx("div",{children:e.jsx(f,{name:"email",value:s.name,onChange:m,onBlur:o,error:!!a.email,helperText:a.email,style:{width:"100%"},placeholder:"hung@gmail.com",id:"outlined-basic",variant:"outlined",size:"small",sx:{minHeight:"4rem"}})}),e.jsx("h2",{className:"text-[1.1rem] font-medium pb-[3px]",children:"Username"}),e.jsx("div",{children:e.jsx(f,{name:"username",onChange:m,onBlur:o,error:!!a.username,helperText:a.username,style:{width:"100%"},placeholder:"hungnd",id:"outlined-basic",variant:"outlined",size:"small",sx:{minHeight:"5.5rem"}})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"w-[47%]",children:[e.jsx("h2",{className:"text-[1.1rem] font-medium pb-[3px]",children:"Password"}),e.jsx("div",{children:e.jsx(f,{name:"password",onChange:m,onBlur:o,error:!!a.password,helperText:a.password,style:{width:"100%"},placeholder:"hungnd",id:"outlined-basic",variant:"outlined",size:"small",sx:{minHeight:"5.5rem"}})})]}),e.jsxs("div",{className:"w-[47%]",children:[e.jsx("h2",{className:"text-[1.1rem] font-medium pb-[3px]",children:"Confirm Password"}),e.jsx("div",{children:e.jsx(f,{name:"passwordConfirm",onChange:m,onBlur:o,error:!!a.passwordConfirm,helperText:a.passwordConfirm,style:{width:"100%"},id:"outlined-basic",variant:"outlined",size:"small",sx:{minHeight:"5.5rem"}})})]})]}),e.jsxs("div",{className:"w-[100%]",children:[e.jsx("h2",{className:"text-[1.1rem] font-medium pb-[3px]",children:"Role"}),e.jsxs(A,{sx:{minWidth:120,width:"100%",minHeight:"4rem"},size:"small",error:!!a.role,children:[e.jsxs(B,{value:s.role,name:"role",onChange:m,onBlur:o,displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[e.jsx(h,{value:"",children:e.jsx("em",{children:"None"})}),e.jsx(h,{value:2,children:"Manager"}),e.jsx(h,{value:5,children:"Sale Staff"}),e.jsx(h,{value:4,children:"Production Staff"}),e.jsx(h,{value:3,children:"Design Staff"})]}),a.role&&e.jsx(E,{children:a.role})]})]}),e.jsx("div",{className:"mt-[1rem]",children:e.jsxs(C,{onClick:j,variant:"contained",sx:{minWidth:"6rem"},children:[e.jsx(w,{fontSize:"small",sx:{marginRight:"8px"}}),"Add"]})})]})]})})})}function ge(){const[n,s]=x.useState(!1),l=[{name:"Nguyen Duc Hung",role:"Design staff",email:"hungndse171325@fpt.edu.vn",phone:"01234567899"},{name:"Nguyen trong THien",role:"Design staff",email:"hungndse171325@fpt.edu.vn",phone:"01234567899"},{name:"Nguyen Gia Khanh",role:"Design staff",email:"hungndse171325@fpt.edu.vn",phone:"01234567899"},{name:"Nguyen Phuc Loc",role:"Design staff",email:"hungndse171325@fpt.edu.vn",phone:"01234567899"},{name:"Nguyen Ba Dat",role:"Design staff",email:"hungndse171325@fpt.edu.vn",phone:"01234567899"}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"py-[2rem] px-[2rem] ",children:[e.jsxs("div",{className:"flex items-center justify-between mb-[3rem]",children:[e.jsx("h4",{className:"text-[1.5rem] font-bold leading-[1.5]",children:"Staff List"}),e.jsx(C,{onClick:()=>s(!0),startIcon:e.jsx(w,{}),variant:"contained",children:"New Staff"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"px-[1rem] py-[1rem] bg-[#fff] rounded-t-[20px]",children:e.jsx(f,{id:"outlined-basic",placeholder:"Search Staff",variant:"outlined",size:"small"})}),e.jsx("div",{children:e.jsx(S,{children:e.jsxs(k,{children:[e.jsx(V,{children:e.jsxs(v,{children:[e.jsx(d,{align:"left",children:"Name"}),e.jsx(d,{align:"left",children:"Role"}),e.jsx(d,{align:"left",children:"Email"}),e.jsx(d,{align:"left",children:"Phone"}),e.jsx(d,{align:"left"})]})}),e.jsx(H,{children:l.map((a,i)=>e.jsx(q,{data:a},i))})]})})})]})]}),n&&e.jsx(Q,{setIsOpenPopup:s})]})}export{ge as default};
