import{r as c,j as e,a as O,d as T}from"./index-VGU-9NUU.js";import{V as P,a as k,I as _}from"./InputPassword-BCb_DQM7.js";import{I as V,L as $,a as R,R as B}from"./ApiLogin-C_csJifq.js";import{F as z,O as E}from"./Select-l-UczRZW.js";import{I as F}from"./TextField-BbW75Pm-.js";import{I as A}from"./InputAdornment-CIaPP71f.js";import{I as D}from"./IconButton-DWvNdrqB.js";import{m as d}from"./motion-ChqZ_GeW.js";import{B as b}from"./Button-1sJCo5hQ.js";import{S as H}from"./createSvgIcon-lFuL9lUi.js";import"./instance-DZS3_tzi.js";import"./AxiosConfigHeader-CNHt4vQr.js";import"./styled-C3jJ_e4t.js";import"./useId-S08-fgGb.js";import"./mergeSlotProps-CMtaL82j.js";import"./ButtonBase-CTLfAVod.js";import"./useIsFocusVisible-DwfdVPIc.js";import"./index-DxwPS3vl.js";import"./Grow-pPlLCpGJ.js";import"./useControlled-uWKHelS5.js";import"./Typography-q_9hv_ih.js";function U({label:n,pattern:f,refInput:h,inputCase:N}){const[t,g]=c.useState(!1),[p,w]=c.useState(!1),S=()=>g(r=>!r),y=()=>w(r=>!r),[C,j]=c.useState(""),u=r=>{r.preventDefault()},[o,s]=c.useState({isValid:!1,message:""}),[m,l]=c.useState({isValid:!1,message:""});function x(r){const i=r.target.value.trim();if(console.log(i.length),r.target.name=="password"&&j(i),i.length===0){s({isValid:!0,message:`${n} field can't be empty!`});return}if(N=="register"){if(r.target.name=="passwordConfirm"&&l(i!==C?{isValid:!0,message:"Confirmation password did not match the password field!"}:{isValid:!1,message:""}),!/[A-Z]/.test(i)){s({isValid:!0,message:`${n} must contain at least one uppercase letter!`});return}if(!/[a-z]/.test(i)){s({isValid:!0,message:`${n} must contain at least one lowercase letter!`});return}if(!/\d/.test(i)){s({isValid:!0,message:`${n} must contain at least one number!`});return}if(!/[!@#$%^&*()]/.test(i)){s({isValid:!0,message:`${n} must contain at least one special character!`});return}if(i.length<12){s({isValid:!0,message:`${n} must be at least 12 characters long!`});return}}s(!0)}const v=(r,i)=>{let I;return(...L)=>{I&&clearTimeout(I),I=setTimeout(()=>{r(...L)},i)}},a=c.useCallback(v(x,1e3),[x]);return e.jsxs(e.Fragment,{children:[e.jsxs(z,{sx:{my:"8px",width:"100%"},variant:"outlined",error:o.isValid,children:[e.jsx(F,{htmlFor:"outlined-adornment-password",children:"Password"}),e.jsx(E,{id:"outlined-adornment-password",type:t?"text":"password",onChange:a,name:n,endAdornment:e.jsx(A,{position:"start",children:e.jsx(D,{"aria-label":"toggle password visibility",onClick:S,onMouseDown:u,edge:"end",children:t?e.jsx(P,{}):e.jsx(k,{})})}),label:n}),o.isValid?e.jsx("p",{className:" text-sm tracking-tighter text-left mt-[3px] mr-[14px] ml-[14px] text-[#d32f2f]",children:o.message}):null]}),e.jsxs(z,{className:"w-full",variant:"outlined",error:m.isValid,children:[e.jsx(F,{htmlFor:"outline-confirm-password",children:"Confirm Password"}),e.jsx(E,{id:"outline-confirm-password",type:p?"text":"password",onChange:a,name:"passwordConfirm",endAdornment:e.jsx(A,{position:"start",children:e.jsx(D,{"aria-label":"toggle password confirmation visibility",onClick:y,onMouseDown:u,edge:"end",children:p?e.jsx(P,{}):e.jsx(k,{})})}),label:n}),m.isValid?e.jsx("p",{className:" text-sm tracking-tighter text-left mt-[3px] mr-[14px] ml-[14px] text-[#d32f2f]",children:m.message}):null]})]})}function de(){var j,u;const n=O(),f=T(),h=((u=(j=f.state)==null?void 0:j.from)==null?void 0:u.pathname)||"/",N=()=>{localStorage.setItem("moveNext",h)};let[t,g]=c.useState(!1);const[p,w]=c.useState({username:"",password:""}),S=async o=>{const s=await $(o);if(console.log(s),s!=null){var m=localStorage.getItem("moveNext")!=null?localStorage.getItem("moveNext"):h;localStorage.removeItem("moveNext"),n(m,{replace:!0})}};c.useEffect(()=>{const s=new URLSearchParams(f.search).get("code");console.log(JSON.stringify({code:s})),s&&S(s)},[f.search]),c.useEffect(()=>{w(t?{username:"",email:"",password:"",passwordConfirm:""}:{username:"",password:""})},[t]),console.log(p);const y=async o=>{o.preventDefault();const s=o.target;var m=new FormData(s);const l={};await Object.entries(p).forEach(([a,r])=>{l[a]=m.get(a)});var x=[...o.target];x.forEach((a,r)=>{a.tagName==="INPUT"&&(a.value="",a.blur())});const{role:v}=await R(l);v!==null&&n(h,{replace:!0})},C=async o=>{o.preventDefault();const s=o.target;var m=new FormData(s);const l={};await Object.entries(p).forEach(([a,r])=>{l[a]=m.get(a)});var x=[...o.target];if(x.forEach((a,r)=>{a.tagName==="INPUT"&&(a.value="",a.blur())}),await B(l)){const a=l.email,r=l.username;n("/confirmation-account",{state:{email:a,username:r}})}};return e.jsx("div",{className:"bg-[#c9d6ff] w-full h-screen bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center flex-col",children:e.jsxs("div",{className:"bg-[#fff] rounded-[30px] shadow-[0_5px_15px_rgba(0,0,0,0.35)] relative overflow-hidden w-[768px] max-w-[100%] min-h-[480px]",children:[e.jsx(d.div,{animate:{x:t?"100%":0,opacity:t?[0,1]:0,zIndex:t?3:1},transition:{duration:.6,ease:"linear"},className:"absolute h-[100%] top-0 left-0 w-[50%] z-1 opacity-0",children:e.jsxs("form",{method:"POST",onSubmit:o=>C(o),className:"bg-[#fff] flex items-center justify-center flex-col h-[100%] px-[40px]",name:"register",children:[e.jsx("h1",{className:"font-bold text-[35px]",children:"Create Account"}),e.jsx(V,{label:"username",type:"text"}),e.jsx(V,{label:"email",type:"email",pattern:"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"}),e.jsx(U,{label:"password",inputCase:"register"}),e.jsx("div",{className:"mb-3"}),e.jsx(b,{variant:"contained",type:"submit",className:"mt-3",children:"Sign Up"})]})}),e.jsx(d.div,{animate:{x:t?"100%":0,zIndex:t?2:3},transition:{duration:.6,ease:"linear"},className:"absolute h-[100%] top-0 left-0 w-[50%] z-2",children:e.jsxs("form",{method:"POST",onSubmit:y,className:"bg-[#fff] flex items-center justify-center flex-col h-[100%] px-[40px]",name:"login",children:[e.jsx("h1",{className:"font-bold text-[35px]",children:"Sign In"}),e.jsx("div",{className:"my-[10px]",children:e.jsx(d.a,{whileHover:{scale:1.2},onClick:N,href:`https://accounts.google.com/o/oauth2/auth?scope=openid%20email%20profile&redirect_uri=http://localhost:5173/login&response_type=code\r
    &client_id=528761239720-ac1sb7qru7cnvmmbddpsi8plsgsqrrg4.apps.googleusercontent.com&approval_prompt=force`,className:"border-[2px] border-solid border-[#ccc] rounded-[20%] inline-flex justify-center items-center mx-[4px] w-[40px] h-[40px]",children:e.jsx(H,{children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",children:e.jsx("path",{d:"M386.1 228.5c1.8 9.7 3.1 19.4 3.1 32C389.2 370.2 315.6 448 204.8 448c-106.1 0-192-85.9-192-192s85.9-192 192-192c51.9 0 95.1 18.9 128.6 50.3l-52.1 50c-14.1-13.6-39-29.6-76.5-29.6-65.5 0-118.9 54.2-118.9 121.3 0 67.1 53.4 121.3 118.9 121.3 76 0 104.5-54.7 109-82.8H204.8v-66h181.3zm185.4 6.4V179.2h-56v55.7h-55.7v56h55.7v55.7h56v-55.7H627.2v-56h-55.7z"})})})})}),e.jsx("span",{className:"text-[13px]",children:"or use your username password"}),e.jsx(V,{label:"username",type:"text"}),e.jsx(_,{label:"password"}),e.jsx("a",{className:"text-[#333] text-[13px] mt-[15px] mb-[10px]",href:"#",children:"Forget Your Password?"}),e.jsx(b,{variant:"contained",type:"submit",children:"Sign In"})]})}),e.jsx(d.div,{animate:{x:t?"-100%":0,borderRadius:t?["0 150px 100px 0"]:["150px 0 0 100px"],zIndex:1e3},transition:{duration:.6,ease:"linear"},className:"absolute top-0 left-[50%] w-[50%] h-[100%] overflow-hidden rounded-tl-[150px] rounded-bl-[100px] z-1000",children:e.jsxs(d.div,{animate:{x:t?"50%":0},transition:{duration:.6,ease:"linear"},className:"bg-[#512da8] h-[100%] text-[#fff] relative left-[-100%] w-[200%] translate-x-0 bg-gradient-to-r from-[#FFE0B5] to-[#D8AE7E]",children:[e.jsxs(d.div,{animate:{x:t?0:"-200%"},transition:{duration:.6,ease:"linear"},className:"absolute w-[50%] h-[100%] flex items-center justify-center flex-col px-[30px] text-center top-0 translate-x-0 translate-x-[-200%]",children:[e.jsx("h1",{className:"font-bold text-[35px]",children:"Welcome Back!"}),e.jsx("p",{className:"text-[15px] leading-[20px] tracking-[0.3px] my-[20px]",children:"Enter your personal details to use all of site features"}),e.jsx(b,{onClick:()=>{g(!t)},className:"bg-transparent border-[#fff]",variant:"contained",children:"Sign In"})]}),e.jsxs(d.div,{animate:{x:t?"200%":0},transition:{duration:.6,ease:"linear"},className:"absolute w-[50%] h-[100%] flex items-center justify-center flex-col px-[30px] text-center top-0 translate-x-0 right-0 ",children:[e.jsx("h1",{className:"font-bold text-[35px]",children:"Hello, Friend!"}),e.jsx("p",{className:"text-[15px] leading-[20px] tracking-[0.3px] my-[20px]",children:"Register with your personal details to use all of site features"}),e.jsx(b,{onClick:()=>{g(!t)},className:"bg-transparent border-[#fff]",variant:"contained",children:"Sign Up"})]})]})})]})})}export{de as default};
